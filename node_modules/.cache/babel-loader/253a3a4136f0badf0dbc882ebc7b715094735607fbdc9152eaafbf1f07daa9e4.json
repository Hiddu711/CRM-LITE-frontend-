{"ast":null,"code":"// Helper function for API requests using fetch\nexport async function apiFetch(endpoint, {\n  method = 'GET',\n  body,\n  headers = {},\n  ...rest\n} = {}) {\n  const token = localStorage.getItem('token');\n  const fetchHeaders = {\n    'Content-Type': 'application/json',\n    ...headers\n  };\n  if (token) {\n    fetchHeaders['Authorization'] = `Bearer ${token}`;\n  }\n  const res = await fetch(`/api${endpoint}`, {\n    method,\n    headers: fetchHeaders,\n    body: body ? JSON.stringify(body) : undefined,\n    ...rest\n  });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) {\n    const error = new Error(data.msg || 'API request failed');\n    error.response = {\n      data\n    };\n    throw error;\n  }\n  return data;\n}","map":{"version":3,"names":["apiFetch","endpoint","method","body","headers","rest","token","localStorage","getItem","fetchHeaders","res","fetch","JSON","stringify","undefined","data","json","catch","ok","error","Error","msg","response"],"sources":["C:/Users/jmgin/OneDrive/Desktop/crm/frontend/src/services/api.js"],"sourcesContent":["// Helper function for API requests using fetch\r\nexport async function apiFetch(endpoint, { method = 'GET', body, headers = {}, ...rest } = {}) {\r\n  const token = localStorage.getItem('token');\r\n  const fetchHeaders = {\r\n    'Content-Type': 'application/json',\r\n    ...headers,\r\n  };\r\n  if (token) {\r\n    fetchHeaders['Authorization'] = `Bearer ${token}`;\r\n  }\r\n  const res = await fetch(`/api${endpoint}`, {\r\n    method,\r\n    headers: fetchHeaders,\r\n    body: body ? JSON.stringify(body) : undefined,\r\n    ...rest,\r\n  });\r\n  const data = await res.json().catch(() => ({}));\r\n  if (!res.ok) {\r\n    const error = new Error(data.msg || 'API request failed');\r\n    error.response = { data };\r\n    throw error;\r\n  }\r\n  return data;\r\n} "],"mappings":"AAAA;AACA,OAAO,eAAeA,QAAQA,CAACC,QAAQ,EAAE;EAAEC,MAAM,GAAG,KAAK;EAAEC,IAAI;EAAEC,OAAO,GAAG,CAAC,CAAC;EAAE,GAAGC;AAAK,CAAC,GAAG,CAAC,CAAC,EAAE;EAC7F,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,YAAY,GAAG;IACnB,cAAc,EAAE,kBAAkB;IAClC,GAAGL;EACL,CAAC;EACD,IAAIE,KAAK,EAAE;IACTG,YAAY,CAAC,eAAe,CAAC,GAAG,UAAUH,KAAK,EAAE;EACnD;EACA,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAAC,OAAOV,QAAQ,EAAE,EAAE;IACzCC,MAAM;IACNE,OAAO,EAAEK,YAAY;IACrBN,IAAI,EAAEA,IAAI,GAAGS,IAAI,CAACC,SAAS,CAACV,IAAI,CAAC,GAAGW,SAAS;IAC7C,GAAGT;EACL,CAAC,CAAC;EACF,MAAMU,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;EAC/C,IAAI,CAACP,GAAG,CAACQ,EAAE,EAAE;IACX,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACL,IAAI,CAACM,GAAG,IAAI,oBAAoB,CAAC;IACzDF,KAAK,CAACG,QAAQ,GAAG;MAAEP;IAAK,CAAC;IACzB,MAAMI,KAAK;EACb;EACA,OAAOJ,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}